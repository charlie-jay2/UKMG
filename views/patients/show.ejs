<%- include('../partials/header') %>
<div class="container mt-5">
  <h1><%= patient.name %></h1>
  <p><strong>Age:</strong> <%= patient.age %></p>
  <p><strong>NHS Number:</strong> <%= patient.nhsNumber %></p>
  <p><strong>Initial Condition:</strong> <%= patient.condition %></p>

  <h3 class="mt-4">Medical Records</h3>
  <% if (patient.medicalRecords.length === 0) { %>
    <p>No records yet.</p>
  <% } else { %>
    <ul class="list-group">
      <% patient.medicalRecords.forEach(record => { %>
        <li class="list-group-item">
          <strong>Stage:</strong> <%= record.stage %><br />
          <strong>Notes:</strong> <%= record.notes %><br />
          <small><%= record.updatedAt.toLocaleString() %></small>
        </li>
      <% }) %>
    </ul>
  <% } %>

  <a href="/patients/<%= patient._id %>/edit" class="btn btn-primary mt-3">Add New Record</a>
</div>
<%- include('../partials/footer') %>
